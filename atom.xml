<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>PyGo²</title>
  
  <subtitle>一个爱&lt;font size=&quot;5&quot; color=&quot;#BF0060&quot;&gt;老婆&lt;/font&gt;的&lt;font size=&quot;5&quot; color=&quot;#FF4500&quot;&gt;Python&lt;/font&gt;程序猿。。。。。。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://pygo2.top/"/>
  <updated>2021-05-27T14:35:12.000Z</updated>
  <id>http://pygo2.top/</id>
  
  <author>
    <name>mingliang.gao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>DB2自动化全量备份</title>
    <link href="http://pygo2.top/articles/16336/"/>
    <id>http://pygo2.top/articles/16336/</id>
    <published>2021-05-27T14:35:12.000Z</published>
    <updated>2021-05-27T14:35:12.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_db2.jpg" alt></p><div class="note primary">            <p>项目上使用的是DB2数据库，全库备份一直是手动备份，自动化的东西没有代码解决不了的问题，初识bat自动化脚本，写的也很简单，分享一下。</p>          </div><span class="label warning">DB2</span> <span class="label default">backup</span> <span class="label info">自动化</span><a id="more"></a><hr><blockquote><p>实现流程</p></blockquote><ul><li>设置执行命令的编码，这个与运行服务器db2cmd的编码保持一致，设置936，如果是windows8、10等设置65001</li><li>备份信息的配置，包含数据库名称、用户、密码、存储目录、日志文件</li><li>存储目录不存在新建、日志文件不存在新建</li><li>db2全库备份</li><li>记录执行结果</li></ul><p>目前实现了基础的备份功能，后续加上彩色打印、自动化删除指定日期前备份文件功能，<font size="6.5" color="red">持续更新中。。。。。。</font></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">:: CMD默认为65001编码，使用db2cmd执行需要设置936</span><br><span class="line">chcp 936</span><br><span class="line">SETLOCAL EnableDelayedExpansion</span><br><span class="line">for /F &quot;tokens=1,2 delims=#&quot; %%a in (&apos;&quot;prompt #$H#$E# &amp; echo on &amp; for %%b in (1) do rem&quot;&apos;) do (</span><br><span class="line">  set &quot;DEL=%%a&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">title DB2 database backup</span><br><span class="line">cls</span><br><span class="line"></span><br><span class="line">REM +-------------------------------------------------------------+</span><br><span class="line">REM + Base info:                                                  +</span><br><span class="line">REM + -- auhtor: mingliang.gao                                    +</span><br><span class="line">REM + -- time: 2021/05/31                                         +</span><br><span class="line">REM + -- version: v1.0.1                                          +</span><br><span class="line">REM + -- system: Windows                                          +</span><br><span class="line">REM + -- desc: DB2 Windows all backup script                      +</span><br><span class="line">REM +                                                             +</span><br><span class="line">REM + Execute method:                                             +</span><br><span class="line">REM + -- auto: db2cmd + task                                      +</span><br><span class="line">REM + -- manual: all path run the script with db2cmd              +</span><br><span class="line">REM +                                                             +</span><br><span class="line">REM + Debug:                                                      +</span><br><span class="line">REM + -- 自定义位置加入pause                                      +</span><br><span class="line">REM +                                                             +</span><br><span class="line">REM + 打印乱问题:                                                 +</span><br><span class="line">REM + -- 1.设置编码与db2cmd编码一致，根据服务器db2cmd编码设定,    +</span><br><span class="line">REM +      db2cmd右键-&gt;属性-&gt;选项中查看编码                       +</span><br><span class="line">REM + -- 2.文件用文本编辑器打开，另存为ANSI编码格式               +</span><br><span class="line">REM +                                                             +</span><br><span class="line">REM + Useage:                                                     +</span><br><span class="line">REM + -- 1.修改chcp编码，以运行服务器db2cmd编码为准               +</span><br><span class="line">REM + -- 2.修改backup config                                      +</span><br><span class="line">REM + -- 3.选择手动或者自动运行方式                               +</span><br><span class="line">REM +                                                             +</span><br><span class="line">REM + Others:                                                     +</span><br><span class="line">REM + -- 1.设置定时任务时，程序选择db2cmd命令，参数选择备份脚本   +</span><br><span class="line">REM +-------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">REM +-------------------------------------------------------------+</span><br><span class="line">REM + Backup info:                                                +</span><br><span class="line">REM + -- ip: 16.19.209.67                                         +</span><br><span class="line">REM + -- task: 每周六晚上11点备份                                 +</span><br><span class="line">REM +-------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">REM +-------------------------------------------------------------+</span><br><span class="line">REM backup config</span><br><span class="line">set db=mzlpas</span><br><span class="line">set user=pas</span><br><span class="line">set password=pas</span><br><span class="line">set backup_dir=E:\BACKUP_MZLPAS</span><br><span class="line">set backup_log=%backup_dir%\backup.log</span><br><span class="line">REM +-------------------------------------------------------------+</span><br><span class="line"></span><br><span class="line">for /f &quot;tokens=1-4 delims=/-\ &quot; %%a in (&apos;date /t&apos;) do (</span><br><span class="line">  set week=%%a</span><br><span class="line">  set year=%%b</span><br><span class="line">  set month=%%c</span><br><span class="line">  set day=%%d</span><br><span class="line">)</span><br><span class="line">set curdate=%year%%month%%day%</span><br><span class="line">echo ========================start backup========================</span><br><span class="line">:: print base informations</span><br><span class="line">echo 当前时间: %date% %time%</span><br><span class="line">call :ColorText 0a &quot;blue&quot;</span><br><span class="line">echo 数据库: %db%</span><br><span class="line">echo 用户: %user%</span><br><span class="line">echo 密码: %password%</span><br><span class="line">echo 备份目录: %backup_dir%</span><br><span class="line">echo 备份日志: %backup_log%</span><br><span class="line"></span><br><span class="line">:: if not exist dir or log file, created</span><br><span class="line">if not exist %backup_dir% (</span><br><span class="line">  mkdir %backup_dir%</span><br><span class="line">)</span><br><span class="line">if not exist %backup_log% (</span><br><span class="line">  echo %db% backup log &gt;&gt; %backup_log%</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: backup command</span><br><span class="line">db2 connect to %db% user %user% using %password%</span><br><span class="line">db2 force applications all</span><br><span class="line">db2 backup db %db% to %backup_dir% PARALLELISM 2 COMPRESS</span><br><span class="line"></span><br><span class="line">echo.</span><br><span class="line"></span><br><span class="line">:: record the backup result</span><br><span class="line">if errorlevel 0 (</span><br><span class="line">  echo %curdate%: success</span><br><span class="line">  echo %curdate%: success &gt;&gt; %backup_log%</span><br><span class="line">) else (</span><br><span class="line">  echo %curdate%: failed</span><br><span class="line">  echo %curdate%: failed &gt;&gt; %backup_log%</span><br><span class="line">  exit</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">echo =========================end backup=========================</span><br><span class="line">pause</span><br><span class="line">exit</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_db2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;项目上使用的是DB2数据库，全库备份一直是手动备份，自动化的东西没有代码解决不了的问题，初识bat自动化脚本，写的也很简单，分享一下。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label warning&quot;&gt;DB2&lt;/span&gt; &lt;span class=&quot;label default&quot;&gt;backup&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;自动化&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="DB2" scheme="http://pygo2.top/tags/DB2/"/>
    
  </entry>
  
  <entry>
    <title>Win Server服务器EventLog中的6005、6006、6008、6009、6013</title>
    <link href="http://pygo2.top/articles/54459/"/>
    <id>http://pygo2.top/articles/54459/</id>
    <published>2021-05-21T01:05:20.000Z</published>
    <updated>2021-05-21T01:05:20.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><div class="note primary">            <p>早上访问web项目，发现挂掉了，以为是内网网线的问题（本人电脑内外网跳板机），主要有线转换头经常出现问题，但是整了半天依然不行，于是打开服务器一看，什么东西都没了，一看就是重启了，于是需要查找到什么时候重启的，学会了查看系统的EventLog，记录一下用到的6005, 6006, 6008, 6009, 6013。</p>          </div><span class="label info">Windows</span> <span class="label primary">EventLog</span><a id="more"></a><hr><h4 id="功能查询"><a href="#功能查询" class="headerlink" title="功能查询"></a>功能查询</h4><p>查看系统的日志记录，查询服务器发生了哪些明细，所在位置：</p><font size="5.5" color="blue">我的电脑 &gt; 管理 &gt; 服务管理器  &gt;  诊断 &gt;  事件查看器 &gt; windows日期 &gt; 系统</font><p><img src="eventlog.png" alt></p><p>主要功能说明：</p><ul><li>目录：EventLog所在的功能树</li><li>事件日志：服务器的事件日志历史记录</li><li>事件明细：对于历史记录的详细说明</li><li>功能区：对EventLog的常用功能，主要用到筛选当前日志</li></ul><p>点击上面的历史事件，可以在明细区域查看具体情况。</p><h4 id="筛选功能"><a href="#筛选功能" class="headerlink" title="筛选功能"></a>筛选功能</h4><p>利用筛选功能选出需要的日志，主要有3大筛选条件：</p><ul><li>记录时间：可以选取近1h、12h、24h、7天、30天</li><li>事件来源：选取eventlog、Eventlog</li><li>事件ID：输入需要过滤的事件ID</li></ul><p><img src="query.png" alt></p><h4 id="EventLog-ID"><a href="#EventLog-ID" class="headerlink" title="EventLog ID"></a>EventLog ID</h4><table><thead><tr><th style="text-align:center">ID</th><th style="text-align:center">level ｜ describe</th><th style="text-align:left"></th></tr></thead><tbody><tr><td style="text-align:center">6005</td><td style="text-align:center">信息</td><td style="text-align:left">事件服务日期启动（开机）</td></tr><tr><td style="text-align:center">6006</td><td style="text-align:center">信息</td><td style="text-align:left">事件服务日期关闭（关机）</td></tr><tr><td style="text-align:center">6008</td><td style="text-align:center">错误</td><td style="text-align:left">上一次系统的 4:12:37 在 ?2021/?5/?21 上的关闭是意外的（记录系统意外关机事件）</td></tr><tr><td style="text-align:center">6009</td><td style="text-align:center">信息</td><td style="text-align:left">Microsoft (R) Windows (R) 6.01. 7601 Service Pack 1 Multiprocessor Free（服务器开机的一些信息）</td></tr><tr><td style="text-align:center">60013</td><td style="text-align:center">信息</td><td style="text-align:left">记录操作系统运行了多久时间，24h运行一次</td></tr></tbody></table><p>破案了，原来是断电了，服务器来电后自己又自己起来了，但是服务全没了。</p><font size="6.5" color="red">记录遇到的各种Eventlog ID，持续更新中。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;背景&quot;&gt;&lt;a href=&quot;#背景&quot; class=&quot;headerlink&quot; title=&quot;背景&quot;&gt;&lt;/a&gt;背景&lt;/h4&gt;&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;早上访问web项目，发现挂掉了，以为是内网网线的问题（本人电脑内外网跳板机），主要有线转换头经常出现问题，但是整了半天依然不行，于是打开服务器一看，什么东西都没了，一看就是重启了，于是需要查找到什么时候重启的，学会了查看系统的EventLog，记录一下用到的6005, 6006, 6008, 6009, 6013。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label info&quot;&gt;Windows&lt;/span&gt; &lt;span class=&quot;label primary&quot;&gt;EventLog&lt;/span&gt;
    
    </summary>
    
      <category term="Windows" scheme="http://pygo2.top/categories/Windows/"/>
    
    
      <category term="Windows" scheme="http://pygo2.top/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>FreeFileSync探索</title>
    <link href="http://pygo2.top/articles/15964/"/>
    <id>http://pygo2.top/articles/15964/</id>
    <published>2021-05-10T14:07:54.000Z</published>
    <updated>2021-05-10T14:07:54.000Z</updated>
    
    <content type="html"><![CDATA[<font size="6.5" color="red">探索中。。。。。。</font><a id="more"></a><hr>]]></content>
    
    <summary type="html">
    
      &lt;font size=&quot;6.5&quot; color=&quot;red&quot;&gt;探索中。。。。。。&lt;/font&gt;
    
    </summary>
    
      <category term="工具集" scheme="http://pygo2.top/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="FreeFileSync" scheme="http://pygo2.top/tags/FreeFileSync/"/>
    
  </entry>
  
  <entry>
    <title>DB2存储过程异常处理</title>
    <link href="http://pygo2.top/articles/40004/"/>
    <id>http://pygo2.top/articles/40004/</id>
    <published>2021-05-07T15:43:48.000Z</published>
    <updated>2021-05-07T15:43:48.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_db2.jpg" alt></p><div class="note primary">            <p>记录下DB2数据库存储过程对异常的处理，DECLARE声明异常的方式。</p>          </div><span class="label info">DB2</span> <span class="label default">存储过程</span> <span class="label danger">SQLEXCEPTIOIN</span> <span class="label primary">DECLARE</span><a id="more"></a><hr><div class="post_cus_note">语法糖</div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DECLARE [handler-type] HANDLER FOR [condition] [handler-action]</span><br></pre></td></tr></table></figure><blockquote><p>handler-type</p></blockquote><p>异常处理器类型(handler-type)有以下几种：</p><ul><li>CONTINUE：处理器完成handler-action操作之后，继续执行产生这个异常语句的下一条语句，说白了就是执行一下handler-action。</li><li>EXIT：处理器完成handler-action操作之后，存储过程终止，并将handler-action操作结果控制返回给调用者。</li><li>UNDO：处理器操作handler-action执行之前，DB2会回滚存储过程中执行的SQL操作。在处理器操作完成之后，存储过程会终止，并将控制返回给调用者。</li></ul><blockquote><p>condition</p></blockquote><p>异常处理器可以处理基于特定SQLSTATE值的定制异常，或者处理预定义异常的类。预定义的3种异常如下所示：</p><ul><li>NOT FOUND：标识导致SQLCODE值为+100或者SQLSATE值为02000的异常。这个异常通常在SELECT没有返回行的时候出现。</li><li>SQLEXCEPTIOIN：标识导致SQLCODE值为负的异常。</li><li>SQLWARNING：标识导致警告异常或者导致+100以外的SQLCODE正值的异常。</li></ul><blockquote><p>handler-action</p></blockquote><p>handler-action为定义处理异常的sql语句，一般主要用来设定返回值、记录日志等操作。</p><div class="post_cus_note">实例</div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">declare exit handler for sqlexception</span><br><span class="line">begin</span><br><span class="line">    set i_code=sqlcode;</span><br><span class="line">    set i_err_no=1;</span><br><span class="line">    call SP_PASSYS_ERRHANDLE(v_proc_name,i_code);</span><br><span class="line">    commit;</span><br><span class="line">end;</span><br></pre></td></tr></table></figure><ul><li>i_code：sqlexception产生的错误代码sqlcode。</li><li>i_err_no：返回给调用者的返回值。</li><li>SP_PASSYS_ERRHANDLE：调用日志记录存储过程。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_db2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;记录下DB2数据库存储过程对异常的处理，DECLARE声明异常的方式。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label info&quot;&gt;DB2&lt;/span&gt; &lt;span class=&quot;label default&quot;&gt;存储过程&lt;/span&gt; &lt;span class=&quot;label danger&quot;&gt;SQLEXCEPTIOIN&lt;/span&gt; &lt;span class=&quot;label primary&quot;&gt;DECLARE&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="DB2" scheme="http://pygo2.top/tags/DB2/"/>
    
      <category term="存储过程" scheme="http://pygo2.top/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Cygwin工具简介</title>
    <link href="http://pygo2.top/articles/28873/"/>
    <id>http://pygo2.top/articles/28873/</id>
    <published>2021-04-27T13:47:02.000Z</published>
    <updated>2021-04-27T13:47:02.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note primary">            <p><font size="6.5" color="DeepPink">Get that Linux feeling - on Windows</font><br>运行于Windows系统上可以运行Linux命令的shell。</p>          </div><p><img src="/images/article_cygwin.png" alt></p><span class="label warning">Linux</span> <span class="label info">SHELL</span> <span class="label primary">Windows</span><a id="more"></a><hr><p>近5年依赖一直使用Macos系统，突然切换到WIN10多多少少还是有些不适应的，但是最不能忍受的是不能再电脑上使用命令去操作文件，很烦。。。。。。<br>所以上网找了下，可以在WIN上运行并且使用Linux的shell还是不少的，我看了知乎上的比较，对于cygwin的评价还是可以的，同类的还有cmder、powershell、git-for-windows等等。</p><h4 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h4><p><a href="http://www.cygwin.com/" target="_blank" rel="noopener">http://www.cygwin.com/</a></p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>安装：官网下载安装，目录：D:\cygwin64。</p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>D:\cygwin64\bin<br>D:\cygwin64\sbin<br>以上路径加入到系统path，让系统cmd也可以使用命令。</p><h4 id="apt-cyg"><a href="#apt-cyg" class="headerlink" title="apt-cyg"></a>apt-cyg</h4><blockquote><p>安装</p></blockquote><p>1.下载命令：<a href="https://github.com/transcode-open/apt-cyg" target="_blank" rel="noopener">https://github.com/transcode-open/apt-cyg</a><br>2.解压文件，把apt-cyg命令复制到D:\cygwin64\bin<br>3.重启cygwin，测试apt-cyg命令</p><blockquote><p>常用参数</p></blockquote><ul><li>install 安装</li><li>remove 卸载</li><li>update 更新</li><li>download 下载软件但不安装</li><li>show 展示安装包的信息</li><li>list 列举已安装的软件</li><li>search/searchall 查询软件</li></ul><p>感觉跟pip、yum、brew很像啊，可能这些玩意都大概类似把。。。</p><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>cygwin详解：<a href="https://www.cnblogs.com/feipeng8848/p/8555648.html" target="_blank" rel="noopener">https://www.cnblogs.com/feipeng8848/p/8555648.html</a><br>apt-cyg命令详解：<a href="https://zhuanlan.zhihu.com/p/66930502" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/66930502</a><br>cmder神器：<a href="https://zhuanlan.zhihu.com/p/28400466" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/28400466</a><br>Windows命令工具大对比：<a href="https://www.zhihu.com/question/19739424" target="_blank" rel="noopener">https://www.zhihu.com/question/19739424</a></p><font size="6.5" color="red">成功没有偶然，继续努力前行</font>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;&lt;font size=&quot;6.5&quot; color=&quot;DeepPink&quot;&gt;Get that Linux feeling - on Windows&lt;/font&gt;&lt;br&gt;运行于Windows系统上可以运行Linux命令的shell。&lt;/p&gt;
          &lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/images/article_cygwin.png&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label warning&quot;&gt;Linux&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;SHELL&lt;/span&gt; &lt;span class=&quot;label primary&quot;&gt;Windows&lt;/span&gt;
    
    </summary>
    
      <category term="工具集" scheme="http://pygo2.top/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="Linux" scheme="http://pygo2.top/tags/Linux/"/>
    
      <category term="Shell" scheme="http://pygo2.top/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>DB2存储过程备份</title>
    <link href="http://pygo2.top/articles/55299/"/>
    <id>http://pygo2.top/articles/55299/</id>
    <published>2021-04-20T15:34:08.000Z</published>
    <updated>2021-04-20T15:34:08.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_db2.jpg" alt></p><div class="note primary">            <p>基于Windows系统的db2自动化存储过程备份，每天一次，这样再也不用担心存储过程修改之后不能复原的问题了。<br>主要使用到了routine这个命令。</p>          </div><span class="label primary">DB2</span> <span class="label default">存储过程</span> <span class="label danger">自动备份</span><a id="more"></a><hr><p>项目的数据是基于DB2存储过程进行计算的，所以存储过程的修改、增加、删除是必须操作，为了防止复原进行自动化定时备份，主要分为2部分：</p><blockquote><p>生成备份SQL</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select &apos;db2 get routine into &quot;D:\db_backup_procdures\20210507\&apos;||procname||&apos;.sar&quot; from procedure &apos;||procname</span><br><span class="line">from SYSCAT.PROCEDURES</span><br><span class="line">where procschema = &apos;PAS&apos;;</span><br></pre></td></tr></table></figure><p>其中，【D:\db_backup_procdures\20210507\】为存储过程存放的路径，需要提前建立好（目前为手动备份模式）；<br>【PAS】为SCHEMA。<br>执行完毕后，会生成对应schema所有的存储过程存储SQL语句。</p><blockquote><p>生成文件</p></blockquote><p>将上一步生成的SQL复制到一个.bat文件，在第一行填写db2连接数据库语句，大致内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">db2 connect to mzlpas user pas using pas</span><br><span class="line"></span><br><span class="line">db2 get routine into &quot;D:\db_backup_procdures\20210507\SP_APP_LOAD_CDSJY.sar&quot; from procedure SP_APP_LOAD_CDSJY</span><br><span class="line">db2 get routine into &quot;D:\db_backup_procdures\20210507\SP_APP_LOAD_CKZH.sar&quot; from procedure SP_APP_LOAD_CKZH</span><br><span class="line">db2 get routine into &quot;D:\db_backup_procdures\20210507\SP_APP_LOAD_DKZH.sar&quot; from procedure SP_APP_LOAD_DKZH</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><p>把脚本放到db2cmd中进行执行，完成存储过程备份。</p><font size="6.5" color="red">自动化备份脚本完成中，未完待续。。。。。。</font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_db2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;基于Windows系统的db2自动化存储过程备份，每天一次，这样再也不用担心存储过程修改之后不能复原的问题了。&lt;br&gt;主要使用到了routine这个命令。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label primary&quot;&gt;DB2&lt;/span&gt; &lt;span class=&quot;label default&quot;&gt;存储过程&lt;/span&gt; &lt;span class=&quot;label danger&quot;&gt;自动备份&lt;/span&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://pygo2.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="DB2" scheme="http://pygo2.top/tags/DB2/"/>
    
      <category term="存储过程" scheme="http://pygo2.top/tags/%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Rsync命令参数详解</title>
    <link href="http://pygo2.top/articles/22710/"/>
    <id>http://pygo2.top/articles/22710/</id>
    <published>2021-04-12T12:42:53.000Z</published>
    <updated>2021-04-20T12:42:53.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note primary">            <p>记录一下rsync命令的参数。</p>          </div><span class="label info">RSYNC</span><a id="more"></a><hr><p>列举一些常用的参数：</p><table><thead><tr><th style="text-align:center">ID</th><th style="text-align:center">NAME</th><th style="text-align:left">ENGLISH</th><th style="text-align:left">CHINESE</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">–verbose, -v</td><td style="text-align:left">increase verbosity</td><td style="text-align:left">详细模式输出</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">–quiet, -q</td><td style="text-align:left">suppress non-error messages</td><td style="text-align:left">精简输出模式</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">–progress</td><td style="text-align:left">show progress during transfer</td><td style="text-align:left">在传输时现实传输过程</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">–archive, -a</td><td style="text-align:left">archive mode is -rlptgoD (no -A,-X,-U,-N,-H)</td><td style="text-align:left">归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">-compress, -z</td><td style="text-align:left">compress file data during the transfer</td><td style="text-align:left">对备份的文件在传输时进行压缩处理</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">–delete</td><td style="text-align:left">delete extraneous files from dest dirs</td><td style="text-align:left">删除那些DST中SRC没有的文件</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">–config=FILE</td><td style="text-align:left">specify alternate rsyncd.conf file</td><td style="text-align:left">指定其他的配置文件，不使用默认的rsyncd.conf文件</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">–password-file=FILE</td><td style="text-align:left">read daemon-access password from FILE</td><td style="text-align:left">从FILE中得到密码</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">–port=PORT</td><td style="text-align:left">listen on alternate port number</td><td style="text-align:left">指定其他的rsync服务端口</td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">–existing</td><td style="text-align:left">skip creating new files on receiver</td><td style="text-align:left">仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件</td></tr><tr><td style="text-align:center">11</td><td style="text-align:center">–partial</td><td style="text-align:left">keep partially transferred files</td><td style="text-align:left">保留那些因故没有完全传输的文件，以是加快随后的再次传输</td></tr><tr><td style="text-align:center">12</td><td style="text-align:center">–daemon</td><td style="text-align:left">run as an rsync daemon</td><td style="text-align:left">以daemon模型运行</td></tr><tr><td style="text-align:center">13</td><td style="text-align:center">–exclude=PATTERN</td><td style="text-align:left">exclude files matching PATTERN</td><td style="text-align:left">指定排除不需要传输的文件模式</td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">–exclude-from=FILE</td><td style="text-align:left">read exclude patterns from FILE</td><td style="text-align:left">排除FILE中指定模式的文件</td></tr></tbody></table><p>官网参数说明：<a href="https://download.samba.org/pub/rsync/rsync.1" target="_blank" rel="noopener">https://download.samba.org/pub/rsync/rsync.1</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">--debug=FLAGS            fine-grained debug verbosity</span><br><span class="line">--stderr=e|a|c           change stderr output mode (default: errors)</span><br><span class="line">--quiet, -q              suppress non-error messages</span><br><span class="line">--no-motd                suppress daemon-mode MOTD</span><br><span class="line">--checksum, -c           skip based on checksum, not mod-time &amp; size</span><br><span class="line">--archive, -a            archive mode is -rlptgoD (no -A,-X,-U,-N,-H)</span><br><span class="line">--no-OPTION              turn off an implied OPTION (e.g. --no-D)</span><br><span class="line">--recursive, -r          recurse into directories</span><br><span class="line">--relative, -R           use relative path names</span><br><span class="line">--no-implied-dirs        don&apos;t send implied dirs with --relative</span><br><span class="line">--backup, -b             make backups (see --suffix &amp; --backup-dir)</span><br><span class="line">--backup-dir=DIR         make backups into hierarchy based in DIR</span><br><span class="line">--suffix=SUFFIX          backup suffix (default ~ w/o --backup-dir)</span><br><span class="line">--update, -u             skip files that are newer on the receiver</span><br><span class="line">--inplace                update destination files in-place</span><br><span class="line">--append                 append data onto shorter files</span><br><span class="line">--append-verify          --append w/old data in file checksum</span><br><span class="line">--dirs, -d               transfer directories without recursing</span><br><span class="line">--mkpath                 create the destination&apos;s path component</span><br><span class="line">--links, -l              copy symlinks as symlinks</span><br><span class="line">--copy-links, -L         transform symlink into referent file/dir</span><br><span class="line">--copy-unsafe-links      only &quot;unsafe&quot; symlinks are transformed</span><br><span class="line">--safe-links             ignore symlinks that point outside the tree</span><br><span class="line">--munge-links            munge symlinks to make them safe &amp; unusable</span><br><span class="line">--copy-dirlinks, -k      transform symlink to dir into referent dir</span><br><span class="line">--keep-dirlinks, -K      treat symlinked dir on receiver as dir</span><br><span class="line">--hard-links, -H         preserve hard links</span><br><span class="line">--perms, -p              preserve permissions</span><br><span class="line">--executability, -E      preserve executability</span><br><span class="line">--chmod=CHMOD            affect file and/or directory permissions</span><br><span class="line">--acls, -A               preserve ACLs (implies --perms)</span><br><span class="line">--xattrs, -X             preserve extended attributes</span><br><span class="line">--owner, -o              preserve owner (super-user only)</span><br><span class="line">--group, -g              preserve group</span><br><span class="line">--devices                preserve device files (super-user only)</span><br><span class="line">--specials               preserve special files</span><br><span class="line">-D                       same as --devices --specials</span><br><span class="line">--times, -t              preserve modification times</span><br><span class="line">--atimes, -U             preserve access (use) times</span><br><span class="line">--open-noatime           avoid changing the atime on opened files</span><br><span class="line">--crtimes, -N            preserve create times (newness)</span><br><span class="line">--omit-dir-times, -O     omit directories from --times</span><br><span class="line">--omit-link-times, -J    omit symlinks from --times</span><br><span class="line">--super                  receiver attempts super-user activities</span><br><span class="line">--fake-super             store/recover privileged attrs using xattrs</span><br><span class="line">--sparse, -S             turn sequences of nulls into sparse blocks</span><br><span class="line">--preallocate            allocate dest files before writing them</span><br><span class="line">--write-devices          write to devices as files (implies --inplace)</span><br><span class="line">--dry-run, -n            perform a trial run with no changes made</span><br><span class="line">--whole-file, -W         copy files whole (w/o delta-xfer algorithm)</span><br><span class="line">--checksum-choice=STR    choose the checksum algorithm (aka --cc)</span><br><span class="line">--one-file-system, -x    don&apos;t cross filesystem boundaries</span><br><span class="line">--block-size=SIZE, -B    force a fixed checksum block-size</span><br><span class="line">--rsh=COMMAND, -e        specify the remote shell to use</span><br><span class="line">--rsync-path=PROGRAM     specify the rsync to run on remote machine</span><br><span class="line">--existing               skip creating new files on receiver</span><br><span class="line">--ignore-existing        skip updating files that exist on receiver</span><br><span class="line">--remove-source-files    sender removes synchronized files (non-dir)</span><br><span class="line">--del                    an alias for --delete-during</span><br><span class="line">--delete                 delete extraneous files from dest dirs</span><br><span class="line">--delete-before          receiver deletes before xfer, not during</span><br><span class="line">--delete-during          receiver deletes during the transfer</span><br><span class="line">--delete-delay           find deletions during, delete after</span><br><span class="line">--delete-after           receiver deletes after transfer, not during</span><br><span class="line">--delete-excluded        also delete excluded files from dest dirs</span><br><span class="line">--ignore-missing-args    ignore missing source args without error</span><br><span class="line">--delete-missing-args    delete missing source args from destination</span><br><span class="line">--ignore-errors          delete even if there are I/O errors</span><br><span class="line">--force                  force deletion of dirs even if not empty</span><br><span class="line">--max-delete=NUM         don&apos;t delete more than NUM files</span><br><span class="line">--max-size=SIZE          don&apos;t transfer any file larger than SIZE</span><br><span class="line">--min-size=SIZE          don&apos;t transfer any file smaller than SIZE</span><br><span class="line">--max-alloc=SIZE         change a limit relating to memory alloc</span><br><span class="line">--partial                keep partially transferred files</span><br><span class="line">--partial-dir=DIR        put a partially transferred file into DIR</span><br><span class="line">--delay-updates          put all updated files into place at end</span><br><span class="line">--prune-empty-dirs, -m   prune empty directory chains from file-list</span><br><span class="line">--numeric-ids            don&apos;t map uid/gid values by user/group name</span><br><span class="line">--usermap=STRING         custom username mapping</span><br><span class="line">--groupmap=STRING        custom groupname mapping</span><br><span class="line">--chown=USER:GROUP       simple username/groupname mapping</span><br><span class="line">--timeout=SECONDS        set I/O timeout in seconds</span><br><span class="line">--contimeout=SECONDS     set daemon connection timeout in seconds</span><br><span class="line">--ignore-times, -I       don&apos;t skip files that match size and time</span><br><span class="line">--size-only              skip files that match in size</span><br><span class="line">--modify-window=NUM, -@  set the accuracy for mod-time comparisons</span><br><span class="line">--temp-dir=DIR, -T       create temporary files in directory DIR</span><br><span class="line">--fuzzy, -y              find similar file for basis if no dest file</span><br><span class="line">--compare-dest=DIR       also compare destination files relative to DIR</span><br><span class="line">--copy-dest=DIR          ... and include copies of unchanged files</span><br><span class="line">--link-dest=DIR          hardlink to files in DIR when unchanged</span><br><span class="line">--compress, -z           compress file data during the transfer</span><br><span class="line">--compress-choice=STR    choose the compression algorithm (aka --zc)</span><br><span class="line">--compress-level=NUM     explicitly set compression level (aka --zl)</span><br><span class="line">--skip-compress=LIST     skip compressing files with suffix in LIST</span><br><span class="line">--cvs-exclude, -C        auto-ignore files in the same way CVS does</span><br><span class="line">--filter=RULE, -f        add a file-filtering RULE</span><br><span class="line">-F                       same as --filter=&apos;dir-merge /.rsync-filter&apos;</span><br><span class="line">                         repeated: --filter=&apos;- .rsync-filter&apos;</span><br><span class="line">--exclude=PATTERN        exclude files matching PATTERN</span><br><span class="line">--exclude-from=FILE      read exclude patterns from FILE</span><br><span class="line">--include=PATTERN        don&apos;t exclude files matching PATTERN</span><br><span class="line">--include-from=FILE      read include patterns from FILE</span><br><span class="line">--files-from=FILE        read list of source-file names from FILE</span><br><span class="line">--from0, -0              all *-from/filter files are delimited by 0s</span><br><span class="line">--protect-args, -s       no space-splitting; wildcard chars only</span><br><span class="line">--copy-as=USER[:GROUP]   specify user &amp; optional group for the copy</span><br><span class="line">--address=ADDRESS        bind address for outgoing socket to daemon</span><br><span class="line">--port=PORT              specify double-colon alternate port number</span><br><span class="line">--sockopts=OPTIONS       specify custom TCP options</span><br><span class="line">--blocking-io            use blocking I/O for the remote shell</span><br><span class="line">--outbuf=N|L|B           set out buffering to None, Line, or Block</span><br><span class="line">--stats                  give some file-transfer stats</span><br><span class="line">--8-bit-output, -8       leave high-bit chars unescaped in output</span><br><span class="line">--human-readable, -h     output numbers in a human-readable format</span><br><span class="line">--progress               show progress during transfer</span><br><span class="line">-P                       same as --partial --progress</span><br><span class="line">--itemize-changes, -i    output a change-summary for all updates</span><br><span class="line">--remote-option=OPT, -M  send OPTION to the remote side only</span><br><span class="line">--out-format=FORMAT      output updates using the specified FORMAT</span><br><span class="line">--log-file=FILE          log what we&apos;re doing to the specified FILE</span><br><span class="line">--log-file-format=FMT    log updates using the specified FMT</span><br><span class="line">--password-file=FILE     read daemon-access password from FILE</span><br><span class="line">--early-input=FILE       use FILE for daemon&apos;s early exec input</span><br><span class="line">--list-only              list the files instead of copying them</span><br><span class="line">--bwlimit=RATE           limit socket I/O bandwidth</span><br><span class="line">--stop-after=MINS        Stop rsync after MINS minutes have elapsed</span><br><span class="line">--stop-at=y-m-dTh:m      Stop rsync at the specified point in time</span><br><span class="line">--write-batch=FILE       write a batched update to FILE</span><br><span class="line">--only-write-batch=FILE  like --write-batch but w/o updating dest</span><br><span class="line">--read-batch=FILE        read a batched update from FILE</span><br><span class="line">--protocol=NUM           force an older protocol version to be used</span><br><span class="line">--iconv=CONVERT_SPEC     request charset conversion of filenames</span><br><span class="line">--checksum-seed=NUM      set block/file checksum seed (advanced)</span><br><span class="line">--ipv4, -4               prefer IPv4</span><br><span class="line">--ipv6, -6               prefer IPv6</span><br><span class="line">--version, -V            print the version + other info and exit</span><br><span class="line">--help, -h (*)           show this help (* -h is help only on its own)</span><br><span class="line">Rsync can also be run as a daemon, in which case the following options are accepted:</span><br><span class="line"></span><br><span class="line">--daemon                 run as an rsync daemon</span><br><span class="line">--address=ADDRESS        bind to the specified address</span><br><span class="line">--bwlimit=RATE           limit socket I/O bandwidth</span><br><span class="line">--config=FILE            specify alternate rsyncd.conf file</span><br><span class="line">--dparam=OVERRIDE, -M    override global daemon config parameter</span><br><span class="line">--no-detach              do not detach from the parent</span><br><span class="line">--port=PORT              listen on alternate port number</span><br><span class="line">--log-file=FILE          override the &quot;log file&quot; setting</span><br><span class="line">--log-file-format=FMT    override the &quot;log format&quot; setting</span><br><span class="line">--sockopts=OPTIONS       specify custom TCP options</span><br><span class="line">--verbose, -v            increase verbosity</span><br><span class="line">--ipv4, -4               prefer IPv4</span><br><span class="line">--ipv6, -6               prefer IPv6</span><br><span class="line">--help, -h               show this help (when used with --daemon)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;记录一下rsync命令的参数。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label info&quot;&gt;RSYNC&lt;/span&gt;
    
    </summary>
    
      <category term="工具集" scheme="http://pygo2.top/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="Rsync" scheme="http://pygo2.top/tags/Rsync/"/>
    
  </entry>
  
  <entry>
    <title>Rsync安装与配置</title>
    <link href="http://pygo2.top/articles/11384/"/>
    <id>http://pygo2.top/articles/11384/</id>
    <published>2021-04-08T13:24:12.000Z</published>
    <updated>2021-04-08T13:24:12.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note primary">            <p>项目上有需要对服务器之间的数据进行同步备份需求，想到了之前在Qunar使用过的开源同步软件RSYNC，这里做个简单的基础使用说明，主要是安装与配置。</p>          </div><p><img src="/images/article_rsync.jpeg" alt></p><span class="label primary">RSYNC</span> <span class="label default">数据同步</span> <span class="label danger">服务器</span><a id="more"></a><hr><p>RSYNC一款开源的数据备份软件，主要有一下几个特点：</p><ul><li>跨平台，支持Windows与Linux双向同步</li><li>采用1服务端-N客户端运行模式，实现多台服务器同时请求</li><li>与其他命令结合使用方便，例如crontab、sersync（实时同步）</li><li>操作简单，安装完成后修改配置即可运行</li><li>实现增量/全量备份</li></ul><p>之前使用是基于Linux系统的sersync+sync搭建的实时同步环境，当前项目上没不需要实时同步数据的要求，所以只搭建了rsync的使用，由于项目上有其他比较着急的事情，后续准备再升级到实时同步环境。</p><h4 id="环境简介"><a href="#环境简介" class="headerlink" title="环境简介"></a>环境简介</h4><table><thead><tr><th style="text-align:center">ID</th><th style="text-align:center">NAME</th><th style="text-align:center">SYSTEM</th><th style="text-align:left">DESC</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">server1</td><td style="text-align:center">RedHAT6.4</td><td style="text-align:left">数据源服务器，用于做备份的SERVER</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">server2</td><td style="text-align:center">Windows Server 2008 R2</td><td style="text-align:left">主要做备份的服务器，安装rsync客户端</td></tr></tbody></table><p>项目上数据源的服务器是Linux的，用来说备份的Server端，这个是不可以更改的系统类型，其他服务器是Windows的，用来做备份的Client。</p><h4 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h4><p>Windows：<a href="https://www.itefix.net/cwrsync" target="_blank" rel="noopener">https://www.itefix.net/cwrsync</a><br>Linux：<a href="https://rsync.samba.org/" target="_blank" rel="noopener">https://rsync.samba.org/</a></p><p>Windows需要下载cwrsync软件包，官网下载即可。<br>Linux安装采用在线安装，也可以下载源码包进行离线安装，均可。</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>关于安装对于系统的不同分别进行说明，其中Linux的安装讲3种方式安装，一些Linux的基础命令使用还是需要掌握的，不会的童鞋需要恶补一下了，废话不说，咱们开始整。</p><blockquote><p>Linux</p></blockquote><h5 id="在线安装"><a href="#在线安装" class="headerlink" title="在线安装"></a>在线安装</h5><p>前提保证服务器连网，可以充分使用yum。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 查询yum源是否有rsync软件</span><br><span class="line">yum search rsync</span><br></pre></td></tr></table></figure></p><p>使用search进行查找，如果没有，需要进行yum源的设置；如果有，进行install安装即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install rsync</span><br></pre></td></tr></table></figure></p><h5 id="离线安装"><a href="#离线安装" class="headerlink" title="离线安装"></a>离线安装</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.samba.org/pub/rsync/src/rsync-3.2.3.tar.gz</span><br><span class="line">tar -zxvf rsync-3.2.3.tar.gz</span><br><span class="line">./configure --prefix=/usr/local/rsync</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><p>使用wget或者官网下载rsync源码包，并移动到服务器上进行解压与安装，具体命令如上。</p><h5 id="镜像安装"><a href="#镜像安装" class="headerlink" title="镜像安装"></a>镜像安装</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount -o loop /root/mingliang.gao/rhel-server-6.4-x86_64-dvd.iso /mnt/</span><br><span class="line">cd /mnt/Packages</span><br><span class="line">ls -l | grep rsync</span><br><span class="line">rpm -ivh rsync-3.0.6-9.el6.x86_64.rpm</span><br><span class="line">umount /mnt/</span><br></pre></td></tr></table></figure><p>镜像安装有个弊端，就是需要下载与服务器系统版本一致的ios镜像包，移动到服务器进行挂载、安装。</p><div class="post_cus_note">安装建议</div><p>关于Linux的安装，建议使用在线安装&gt;镜像安装&gt;离线安装，如果是内网不能连网的情况考虑镜像安装与离线安装，离线安装rpm方式需要一定的依赖，如果是一台新的服务器而且还不能连网，安装起来很费劲，不建议使用源码安装。</p><blockquote><p>Windows</p></blockquote><p>Windows安装客户端比较简单，直接官网进行下载：<a href="https://www.itefix.net/cwrsync" target="_blank" rel="noopener">https://www.itefix.net/cwrsync</a><br><img src="cwrsync.png" alt></p><p>下载好的包进行解压，把对应的路径加入系统PATH即可。</p><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>配置主要是基于Server端进行配置，需要开启服务，Client进行数据获取，主要配置的操作如下：</p><ul><li>mkdir -p /etc/rsyncd</li><li>cd /etc/rsyncd</li><li><p>rsyncd.passwd配置文件<br>  touch rsyncd.conf<br>  粘贴下面的内容到rsyncd.conf配置文件</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># /etc/rsyncd: configuration file for rsync daemon mode</span><br><span class="line"># See rsyncd.conf man page for more options.</span><br><span class="line">port = 873</span><br><span class="line">uid = root</span><br><span class="line">gid = root</span><br><span class="line">use chroot = yes</span><br><span class="line">read only = no</span><br><span class="line">write only = no</span><br><span class="line"># IP白名单</span><br><span class="line">hosts allow = *</span><br><span class="line">hosts deny = *</span><br><span class="line">max connections = 4</span><br><span class="line"># motd file = /etc/rsyncd/rsyncd.motd</span><br><span class="line">pid file = /var/run/rsyncd.pid</span><br><span class="line">lock file = /var/run/rsyncd.lock</span><br><span class="line">transfer logging = yes</span><br><span class="line">log format = %t %a %m %f %b</span><br><span class="line">log file = /var/log/rsync.log</span><br><span class="line">exclude = lost+found/</span><br><span class="line">timeout = 900</span><br><span class="line">ignore nonreadable = yes</span><br><span class="line">dont compress   = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2</span><br><span class="line">list = no</span><br><span class="line">ignore errors</span><br><span class="line">auth users = root</span><br><span class="line">secrets file = /etc/rsyncd/rsyncd.passwd</span><br><span class="line"></span><br><span class="line"># 数据路径配置</span><br><span class="line">[gtp]</span><br><span class="line">path = /home/gtp/data</span><br></pre></td></tr></table></figure><p>  主要更改[gtp]数据模块配置与hosts allow</p></li><li>rsyncd.passwd<br>  touch rsyncd.passwd<br>  内容：root:Root123（服务器连接的用户、用户密码，用英文:分割）</li><li><p>chmod 600 rsyncd.passwd</p>  <font color="red">重点，需要设置文件的600模式，其他模式不允许。</font></li></ul><h4 id="配置文件说明"><a href="#配置文件说明" class="headerlink" title="配置文件说明"></a>配置文件说明</h4><blockquote><p>全局参数</p></blockquote><ul><li>port：服务端口，默认873</li><li>uid：用什么用户运行</li><li>gid：运行用户所属组</li><li>use chroot：若为 true，则 rsync 在传输文件之前首先chroot到 path 参数所指定的目录下。这样做的原因是实现额外的安全防护，但是缺点是需要 root 权限，并且不能备份指向 path 外部的符号连接所指向的目录文件。</li><li>motd file：同步开始打印的内容</li><li>pid file：rsync进程的.pid文件，文件里面存放PID</li><li>lock file：rsync进程的.lock文件</li></ul><blockquote><p>模块参数</p></blockquote><ul><li>hosts allow：IP白名单，*或者注释代表全部允许</li><li>hosts deny：IP黑名单，不允许同步的IP</li><li>max connections：最大连接数量，0为无限制</li><li>transfer logging：使rsync配置的记录日志文件</li><li>log format：日志格式</li><li>log file：日志</li><li>exclude：排除哪些目录不同步</li><li>timeout：一次连接的最大时长</li><li>ignore nonreadable：</li><li>dont compress：用来指定在传输之前不进行压缩处理的文件格式</li><li>list：指定当客户请求列出可以使用的模块列表时，该模块是否应该被列出。如果设置该选项为 false，可以创建隐藏的模块</li><li>ignore errors：可以忽略一些无关的IO错误</li><li>auth users：授权的用户，需要与发起方保持一致，多个用户用,分隔</li><li>secrets file：密钥文件，里面是服务器连接的用户、用户密码</li></ul><blockquote><p>数据模块格式</p></blockquote><p>可以定义多个，格式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[模块名称]</span><br><span class="line">path = 具体路径</span><br><span class="line">comment = 同步数据模型的描述</span><br></pre></td></tr></table></figure></p><p>官网rsync配置文件参数说明：<a href="https://download.samba.org/pub/rsync/rsyncd.conf.5" target="_blank" rel="noopener">https://download.samba.org/pub/rsync/rsyncd.conf.5</a></p><h4 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h4><blockquote><p>Linux服务端</p></blockquote><ul><li><p>检查端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nltp|grep 873 或者 lsof -i:873</span><br></pre></td></tr></table></figure><p>  服务端默认的端口是873，先check下服务器的873是否被占用，如果没有直接启动服务即可；被占用需要更改上面的配置文件中的port进行端口更换再进行启动。</p></li><li><p>运行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync --daemon --config=/etc/rsyncd/rsyncd.conf</span><br></pre></td></tr></table></figure><p>  启动服务。</p></li><li>查看<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep rsync</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>Windows客户端</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rsync --port 873 -avzP --password-file=/cygdrive/D/cwRsync/rsyncd.passwd root@16.19.209.68::newgtp /cygdrive/E/newdata</span><br></pre></td></tr></table></figure><p>如果出现没有发现rsync命令，就是没有把rsync的安装路径加入系统PATH。不想加入系统PATH就把rsync的路径补全，采用路径+rsync的方式运行。</p><p>参数说明：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-a, --archive 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD</span><br><span class="line">-v, --verbose 详细模式输出</span><br><span class="line">--progress 在传输时现实传输过程</span><br><span class="line">-z, --compress 对备份的文件在传输时进行压缩处理</span><br><span class="line">--delete 删除那些DST中SRC没有的文件</span><br><span class="line">--config=FILE 指定其他的配置文件，不使用默认的rsyncd.conf文件</span><br><span class="line">--password-file=FILE 从FILE中得到密码</span><br><span class="line">--port=PORT 指定其他的rsync服务端口</span><br><span class="line">--existing 仅仅更新那些已经存在于DST的文件，而不备份那些新创建的文件</span><br><span class="line">--partial 保留那些因故没有完全传输的文件，以是加快随后的再次传输</span><br></pre></td></tr></table></figure></p><h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><blockquote><p>umount问题：umount: /mnt: device is busy.</p></blockquote><p>解决方案：<br>fuser -m /mnt/ 查看使用文件的进程id<br>kill或者exit、重新ssh<br>重新umount</p><blockquote><p>重新启动</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep rsync</span><br><span class="line">kill 进程ID</span><br><span class="line">rsync --daemon --config=/etc/rsyncd/rsyncd.conf</span><br></pre></td></tr></table></figure><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>yum命令与源设置：<a href="https://zhuanlan.zhihu.com/p/71906253" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/71906253</a><br>Linux编译详解：<a href="https://www.cnblogs.com/tinywan/p/7230039.html" target="_blank" rel="noopener">https://www.cnblogs.com/tinywan/p/7230039.html</a><br>rsync安装：<a href="https://www.cnblogs.com/champaign/p/9082137.html" target="_blank" rel="noopener">https://www.cnblogs.com/champaign/p/9082137.html</a><br>rsync参数：<a href="https://www.cnblogs.com/koushuige/p/9162920.html" target="_blank" rel="noopener">https://www.cnblogs.com/koushuige/p/9162920.html</a><br>rsync配置文件参数说明：<a href="https://download.samba.org/pub/rsync/rsyncd.conf.5" target="_blank" rel="noopener">https://download.samba.org/pub/rsync/rsyncd.conf.5</a></p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;项目上有需要对服务器之间的数据进行同步备份需求，想到了之前在Qunar使用过的开源同步软件RSYNC，这里做个简单的基础使用说明，主要是安装与配置。&lt;/p&gt;
          &lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/images/article_rsync.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;RSYNC&lt;/span&gt; &lt;span class=&quot;label default&quot;&gt;数据同步&lt;/span&gt; &lt;span class=&quot;label danger&quot;&gt;服务器&lt;/span&gt;
    
    </summary>
    
      <category term="工具集" scheme="http://pygo2.top/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="Rsync" scheme="http://pygo2.top/tags/Rsync/"/>
    
  </entry>
  
  <entry>
    <title>博客域名切换</title>
    <link href="http://pygo2.top/articles/36343/"/>
    <id>http://pygo2.top/articles/36343/</id>
    <published>2021-02-02T14:02:29.000Z</published>
    <updated>2021-02-02T14:02:29.000Z</updated>
    
    <content type="html"><![CDATA[<div class="post_cus_note">pygo2.top上线</div><a id="more"></a><hr><p>博客域名由pygo2.cn改为pygo2.top，正式上线。</p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;post_cus_note&quot;&gt;pygo2.top上线&lt;/div&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="域名" scheme="http://pygo2.top/tags/%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>MacOS配置svn免账号密码</title>
    <link href="http://pygo2.top/articles/49218/"/>
    <id>http://pygo2.top/articles/49218/</id>
    <published>2021-02-01T06:08:55.000Z</published>
    <updated>2021-02-01T06:08:55.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_svn.jpg" alt></p><span class="label primary">SVN</span><a id="more"></a><hr><blockquote><p>环境</p></blockquote><p>MacOS Big Sur 11.1</p><blockquote><p>版本</p></blockquote><p>version 1.11.1 (r1850623)</p><blockquote><p>配置</p></blockquote><ul><li><p>编辑配置文件</p><p>  vim ~/.subversion/config</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">store-passwords = yes</span><br><span class="line">store-auth-creds = yes</span><br></pre></td></tr></table></figure></li><li><p>权限配置</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod 775 -R auth/</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_svn.jpg&quot; alt&gt;&lt;/p&gt;
&lt;span class=&quot;label primary&quot;&gt;SVN&lt;/span&gt;
    
    </summary>
    
      <category term="工具集" scheme="http://pygo2.top/categories/%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
    
    
      <category term="svn" scheme="http://pygo2.top/tags/svn/"/>
    
  </entry>
  
  <entry>
    <title>CkEditor图片上传到服务端</title>
    <link href="http://pygo2.top/articles/32287/"/>
    <id>http://pygo2.top/articles/32287/</id>
    <published>2021-01-30T03:35:27.000Z</published>
    <updated>2021-01-30T03:35:27.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><font size="5.5" color="red">CKEditor系列教程（三）</font></blockquote><span class="label primary">CKEditor</span> <span class="label warning">前端应用</span><a id="more"></a><hr><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><blockquote><p>配置前</p></blockquote><p><img src="ckedit_1.png" alt></p><blockquote><p>配置后</p></blockquote><p><img src="ckedit_2.png" alt></p><h4 id="图片上传配置"><a href="#图片上传配置" class="headerlink" title="图片上传配置"></a>图片上传配置</h4><p>在config.js配置文件中进行图片上传的配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//上传图片API</span><br><span class="line">config.filebrowserImageUploadUrl = &quot;/apis/uploadimg&quot;;</span><br><span class="line">// 去掉图片预览框的文字</span><br><span class="line">config.image_previewText = &apos;&apos;;</span><br><span class="line">// 隐藏“超链接”与“高级选项”只留上传和预览按钮</span><br><span class="line">config.removeDialogTabs = &apos;image:advanced;image:Link;&apos;;</span><br></pre></td></tr></table></figure></p><h4 id="后台代码"><a href="#后台代码" class="headerlink" title="后台代码"></a>后台代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@apis.route(&apos;/uploadimg/&apos;, methods=[&apos;POST&apos;, &apos;OPTIONS&apos;], strict_slashes=False)</span><br><span class="line">def uploadimg():</span><br><span class="line">    image = request.files.get(&apos;upload&apos;)</span><br><span class="line">    no_res = jsonify(&#123;</span><br><span class="line">            &quot;uploaded&quot;: 0,</span><br><span class="line">            &quot;fileName&quot;: &apos;&apos;,</span><br><span class="line">            &quot;url&quot;: &apos;&apos;</span><br><span class="line">        &#125;)</span><br><span class="line">    if not image:</span><br><span class="line">        return no_res</span><br><span class="line">    res = ApisService().store_to_imgae(image)</span><br><span class="line">    json_res = json.loads(res)</span><br><span class="line">    if json_res.get(&apos;status_id&apos;) != 100:</span><br><span class="line">        return no_res</span><br><span class="line"></span><br><span class="line">    return jsonify(&#123;</span><br><span class="line">            &quot;uploaded&quot;: 1,</span><br><span class="line">            &quot;fileName&quot;: json_res.get(&apos;data&apos;).get(&apos;name&apos;),</span><br><span class="line">            &quot;url&quot;: json_res.get(&apos;data&apos;).get(&apos;url&apos;)</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure><p>上面是python对于图片存储的代码，store_to_imgae是实际存储的，需要的可以给我留言，要让前端ckedit能获取返回值，需要json格式，内容目标如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;uploaded&quot;: 1,</span><br><span class="line">    &quot;fileName&quot;: json_res.get(&apos;data&apos;).get(&apos;name&apos;),</span><br><span class="line">    &quot;url&quot;: json_res.get(&apos;data&apos;).get(&apos;url&apos;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这样，前端就可以进行显示了。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;font size=&quot;5.5&quot; color=&quot;red&quot;&gt;CKEditor系列教程（三）&lt;/font&gt;&lt;/blockquote&gt;
&lt;span class=&quot;label primary&quot;&gt;CKEditor&lt;/span&gt; &lt;span class=&quot;label warning&quot;&gt;前端应用&lt;/span&gt;
    
    </summary>
    
      <category term="前端应用" scheme="http://pygo2.top/categories/%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/"/>
    
      <category term="IDE" scheme="http://pygo2.top/categories/IDE/"/>
    
    
      <category term="HTML" scheme="http://pygo2.top/tags/HTML/"/>
    
      <category term="前端组件" scheme="http://pygo2.top/tags/%E5%89%8D%E7%AB%AF%E7%BB%84%E4%BB%B6/"/>
    
      <category term="CkEditor" scheme="http://pygo2.top/tags/CkEditor/"/>
    
      <category term="富文本编辑器" scheme="http://pygo2.top/tags/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Linux服务上安装Win字体</title>
    <link href="http://pygo2.top/articles/34016/"/>
    <id>http://pygo2.top/articles/34016/</id>
    <published>2021-01-25T02:51:39.000Z</published>
    <updated>2021-01-25T14:51:39.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning">            <p>在开源项目上集成了CKEditor富文本编辑器，但是发现面板上字体没有宋体、微软雅黑等Win字体，web服务大部分应用都是win系统，在CKEditor上config.js添加了字体选择，但是没有效果，需要在Linux服务器添加所需要的字体。</p>          </div><span class="label primary">Linux</span> <span class="label info">CKEditor</span><a id="more"></a><hr><p>这里介绍2种配置，均可以。</p><blockquote><p>系统环境</p></blockquote><p>Contos7.5</p><blockquote><p>基础操作</p></blockquote><p>拷贝Win系统的字体传到Linux服务器上，放在/usr/share/fonts/chinese目录下，fonts目录下是没有chinese文件夹的，需要root用户新建并赋予755权限。<br>Win系统的字体库位置：C:/Windows/Fonts<br>Linux涉及命令：su、scp、mkdir、chmod</p><div class="post_cus_note">================第一种================</div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/share/fonts/chinese</span><br><span class="line">sudo mkfontscale</span><br><span class="line">sudo mkfontdir</span><br><span class="line">sudo fc-cache –fv</span><br></pre></td></tr></table></figure><p>执行以上命令之后，在执行<strong><em>fc-list</em></strong>查看字体列表，查看中文字体：<strong><em>fc-list :lang=zh</em></strong>。</p><blockquote><p>mkfontscale &amp;&amp; mkfontdir 区别</p></blockquote><p><strong><em>man</em></strong>查看二者命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfontscale - create an index of scalable font files for X</span><br><span class="line">mkfontdir - create an index of X font files in a directory</span><br></pre></td></tr></table></figure></p><p>都是在字体库目录建立索引文件的命令，而且内容也是相同的。<br><img src="cmd.png" alt></p><div class="post_cus_note">================第二种================</div><ul><li>用编辑器打开/etc/fonts/fonts.conf，通常会有如下内容:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dir&gt;/usr/share/fonts&lt;/dir&gt;</span><br><span class="line">&lt;dir&gt;/usr/share/fonts/chinese&lt;/dir&gt;</span><br><span class="line">&lt;dir&gt;/usr/share/X11/fonts/Type1&lt;/dir&gt; &lt;dir&gt;/usr/share/X11/fonts/TTF&lt;/dir&gt; &lt;dir&gt;/usr/local/share/fonts&lt;/dir&gt;</span><br><span class="line">&lt;dir prefix=&quot;xdg&quot;&gt;fonts&lt;/dir&gt;</span><br><span class="line">&lt;!-- the following element will be removed in the future --&gt;</span><br><span class="line"> &lt;dir&gt;~/.fonts&lt;/dir&gt;</span><br></pre></td></tr></table></figure></li></ul><p>把中文字体库文件放到其中一个目录即可或者把自定义的目录路径加到fonts.conf。</p><ul><li><p>刷新字体库<br>fc-cache -fv</p></li><li><p>查看已安装字体<br>fc-list :lang=zh</p></li></ul><font color="red" size="5"><strong><em>纵使生活再艰难，也不要放弃，微信面对，致自己！！！</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note warning&quot;&gt;
            &lt;p&gt;在开源项目上集成了CKEditor富文本编辑器，但是发现面板上字体没有宋体、微软雅黑等Win字体，web服务大部分应用都是win系统，在CKEditor上config.js添加了字体选择，但是没有效果，需要在Linux服务器添加所需要的字体。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label primary&quot;&gt;Linux&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;CKEditor&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="CkEditor" scheme="http://pygo2.top/tags/CkEditor/"/>
    
      <category term="Linux" scheme="http://pygo2.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>CkEditor的配置说明</title>
    <link href="http://pygo2.top/articles/32150/"/>
    <id>http://pygo2.top/articles/32150/</id>
    <published>2021-01-23T14:35:15.000Z</published>
    <updated>2021-01-23T14:35:15.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><font size="5.5" color="red">CKEditor系列教程（二）</font></blockquote><span class="label primary">CKEditor</span> <span class="label info">前端应用</span><a id="more"></a><hr><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>配置文件在插件的config.js，也可以自定义config js文件。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.</span><br><span class="line"> * For licensing, see https://ckeditor.com/legal/ckeditor-oss-license</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">CKEDITOR.editorConfig = function( config ) &#123;</span><br><span class="line">    // 语言</span><br><span class="line">    config.language = &apos;zh-cn&apos;;</span><br><span class="line">    // placeholder设置</span><br><span class="line">    config.editorplaceholder = &apos;开始新的篇章......&apos;;</span><br><span class="line">    // 设置宽高</span><br><span class="line">    // config.width = 400;</span><br><span class="line">    config.height = 500;</span><br><span class="line">    // UI面板配色</span><br><span class="line">    config.uiColor = &apos;#F7B42C&apos;;</span><br><span class="line">    // 编辑器样式：bootstrapck icy_orange kama minimalist moono moono-dark moonocolor office2013</span><br><span class="line">    // default：moono-lisa</span><br><span class="line">    config.skin = &apos;icy_orange&apos;;</span><br><span class="line">    // 添加字体</span><br><span class="line">    config.font_names=&apos;宋体/SimSun;新宋体/NSimSun;仿宋_GB2312/FangSong_GB2312;楷体_GB2312/KaiTi_GB2312;黑体/SimHei;微软雅黑/Microsoft YaHei;&apos;+ config.font_names;</span><br><span class="line"></span><br><span class="line">    // 添加该行代码关闭easyimage、cloudservices插件即可</span><br><span class="line">    config.removePlugins = &apos;easyimage,cloudservices&apos;;</span><br><span class="line"></span><br><span class="line">    // 工具栏是否可以被收缩</span><br><span class="line">    config.toolbarCanCollapse = true;</span><br><span class="line">    // 工具栏的位置，可选：bottom</span><br><span class="line">    config.toolbarLocation = &apos;top&apos;;</span><br><span class="line">    // 工具栏默认是否展开</span><br><span class="line">    config.toolbarStartupExpanded = true;</span><br><span class="line">    // 取消 “拖拽以改变尺寸”功能</span><br><span class="line">    config.resize_enabled = false;</span><br><span class="line">    // 当提交包含有此编辑器的表单时，是否自动更新元素内的资料</span><br><span class="line">    config.autoUpdateElement = true;</span><br><span class="line">    // 编辑器的z-index值</span><br><span class="line">    config.baseFloatZIndex = 10000;</span><br><span class="line"></span><br><span class="line">    // 工具栏</span><br><span class="line">    config.toolbar = [</span><br><span class="line">        &#123; name: &apos;document&apos;, groups: [ &apos;mode&apos;, &apos;document&apos;, &apos;doctools&apos;, &apos;undo&apos;], items: [ &apos;NewPage&apos;, &apos;Save&apos;, &apos;Preview&apos;, &apos;Print&apos;, &apos;-&apos;, &apos;Templates&apos; , &apos;-&apos;, &apos;Undo&apos;, &apos;Redo&apos; ] &#125;,</span><br><span class="line">        &#123; name: &apos;editing&apos;, groups: [ &apos;find&apos;, &apos;selection&apos;, &apos;spellchecker&apos; ], items: [ &apos;Find&apos;, &apos;Replace&apos;, &apos;-&apos;, &apos;SelectAll&apos;, &apos;-&apos;, &apos;Scayt&apos; ] &#125;,</span><br><span class="line">        &#123; name: &apos;clipboard&apos;, groups: [ &apos;clipboard&apos;], items: [ &apos;Cut&apos;, &apos;Copy&apos;, &apos;Paste&apos;, &apos;PasteText&apos;, &apos;PasteFromWord&apos;] &#125;,</span><br><span class="line">        //&#123; name: &apos;forms&apos;, items: [ &apos;Form&apos;, &apos;Checkbox&apos;, &apos;Radio&apos;, &apos;TextField&apos;, &apos;Textarea&apos;, &apos;Select&apos;, &apos;Button&apos;, &apos;ImageButton&apos;, &apos;HiddenField&apos; ] &#125;,</span><br><span class="line">        &#123; name: &apos;insert&apos;, groups: [ &apos;links&apos;, &apos;clipboard&apos;],  items: [ &apos;Link&apos;, &apos;Unlink&apos;, &apos;Anchor&apos;, &apos;-&apos;, &apos;Image&apos;,  &apos;Table&apos;, &apos;-&apos;, &apos;HorizontalRule&apos;, &apos;Smiley&apos;, &apos;SpecialChar&apos;] &#125;,</span><br><span class="line">        &apos;/&apos;,</span><br><span class="line">        &#123; name: &apos;basicstyles&apos;, groups: [ &apos;basicstyles&apos;, &apos;cleanup&apos; ], items: [ &apos;Bold&apos;, &apos;Italic&apos;, &apos;Underline&apos;, &apos;Strike&apos;, &apos;-&apos;, &apos;TextColor&apos;, &apos;BGColor&apos;, &apos;-&apos;, &apos;Subscript&apos;, &apos;Superscript&apos;, &apos;-&apos;, &apos;RemoveFormat&apos; ] &#125;,</span><br><span class="line">        &#123; name: &apos;paragraph&apos;, groups: [ &apos;list&apos;, &apos;indent&apos;, &apos;blocks&apos;, &apos;align&apos;, &apos;bidi&apos; ], items: [ &apos;NumberedList&apos;, &apos;BulletedList&apos;, &apos;-&apos;, &apos;Outdent&apos;, &apos;Indent&apos;,  &apos;-&apos;, &apos;JustifyLeft&apos;, &apos;JustifyCenter&apos;, &apos;JustifyRight&apos;, &apos;JustifyBlock&apos;, &apos;-&apos;, &apos;BidiLtr&apos;, &apos;BidiRtl&apos;, &apos;Language&apos; ] &#125;,</span><br><span class="line">        &apos;/&apos;,</span><br><span class="line">        &#123; name: &apos;styles&apos;, items: [ &apos;Styles&apos;, &apos;Format&apos;, &apos;Font&apos;, &apos;FontSize&apos; ] &#125;,</span><br><span class="line">        &#123; name: &apos;others&apos;, items: [ &apos;Maximize&apos;, &apos;-&apos;, &apos;ShowBlocks&apos;, &apos;Blockquote&apos;, &apos;CreateDiv&apos;, &apos;-&apos;, &apos;Source&apos;] &#125;</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    //上传图片API</span><br><span class="line">    config.filebrowserImageUploadUrl = &quot;/apis/uploadimg&quot;;</span><br><span class="line">    // 去掉图片预览框的文字</span><br><span class="line">    config.image_previewText = &apos;&apos;;</span><br><span class="line">    // 隐藏“超链接”与“高级选项”只留上传和预览按钮</span><br><span class="line">    config.removeDialogTabs = &apos;image:advanced;image:Link;&apos;;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><div class="note warning">            <p>特别说明：<br>config.skin的皮肤需要自己进行下载，插件的skins目录下是没有。<br>有需要的同学可以邮件我：<a href="mailto:gaoming971366@163.com" target="_blank" rel="noopener">gaoming971366@163.com</a></p>          </div><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>官网配置：<a href="https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_config.html" target="_blank" rel="noopener">https://ckeditor.com/docs/ckeditor4/latest/api/CKEDITOR_config.html</a><br>CKEditor系列教程（一）：<a href="/articles/9743/" target="_blank" class="block_project_a">CkEditor的安装与基础使用</a><br>CKEditor系列教程（二）：<a href="/articles/32150/" target="_blank" class="block_project_a">CkEditor的配置说明</a><br>CKEditor系列教程（三）：<a href="/articles/32287/" target="_blank" class="block_project_a">CkEditor图片上传到服务端</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;font size=&quot;5.5&quot; color=&quot;red&quot;&gt;CKEditor系列教程（二）&lt;/font&gt;&lt;/blockquote&gt;
&lt;span class=&quot;label primary&quot;&gt;CKEditor&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;前端应用&lt;/span&gt;
    
    </summary>
    
      <category term="前端应用" scheme="http://pygo2.top/categories/%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/"/>
    
      <category term="IDE" scheme="http://pygo2.top/categories/IDE/"/>
    
    
      <category term="HTML" scheme="http://pygo2.top/tags/HTML/"/>
    
      <category term="前端组件" scheme="http://pygo2.top/tags/%E5%89%8D%E7%AB%AF%E7%BB%84%E4%BB%B6/"/>
    
      <category term="CkEditor" scheme="http://pygo2.top/tags/CkEditor/"/>
    
      <category term="富文本编辑器" scheme="http://pygo2.top/tags/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>CkEditor的安装与基础使用</title>
    <link href="http://pygo2.top/articles/9743/"/>
    <id>http://pygo2.top/articles/9743/</id>
    <published>2021-01-18T13:43:12.000Z</published>
    <updated>2021-01-18T13:43:12.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote class="blockquote-center"><font size="5.5" color="red">CKEditor系列教程（一）</font></blockquote><span class="label danger">CKEditor</span> <span class="label warning">前端应用</span><a id="more"></a><hr><p>CkEditor有4版本以及最新5系列版本，看了内容，感觉4就够了，有兴趣的人可以下载5。</p><h4 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h4><p><a href="https://ckeditor.com/ckeditor-4/download/" target="_blank" rel="noopener">https://ckeditor.com/ckeditor-4/download/</a></p><p>CkEditor4有4个版本下载：base（基础版）、standard（标准版）、full（完整版）、custome（定制版）。<br><img src="version.png" alt><br>说白了就是插件多少的问题，建议选择full版本，反正项目部署到服务器，CkEditor插件每次也不会更新，不会影响任何问题。</p><p>其他方式安装：<a href="https://ckeditor.com/docs/ckeditor4/latest/guide/dev_installation.html" target="_blank" rel="noopener">https://ckeditor.com/docs/ckeditor4/latest/guide/dev_installation.html</a></p><h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h4><blockquote><p>HTML</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html lang=&quot;en-US&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;title&gt;ditor demo&lt;/title&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;ckeditor_4.15.1_full_easyimage/ckeditor.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button onclick=&quot;show()&quot;&gt;展示&lt;/button&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;form&gt;</span><br><span class="line">        &lt;textarea name=&quot;articleArea&quot; id=&quot;articleArea&quot; rows=&quot;10&quot; cols=&quot;80&quot;&gt;</span><br><span class="line">        &lt;/textarea&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    // with a CKEditor 4, instance, using default configuration.</span><br><span class="line">    CKEDITOR.replace( &apos;articleArea&apos; );</span><br><span class="line"></span><br><span class="line">    function show() &#123;</span><br><span class="line">         var editor_data = CKEDITOR.instances.articleArea.getData();</span><br><span class="line">        console.log(editor_data)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>show方法是打印内容。</p><h4 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h4><p>官网：<a href="https://ckeditor.com/" target="_blank" rel="noopener">https://ckeditor.com/</a><br>CKEditor系列教程（一）：<a href="/articles/9743/" target="_blank" class="block_project_a">CkEditor的安装与基础使用</a><br>CKEditor系列教程（二）：<a href="/articles/32150/" target="_blank" class="block_project_a">CkEditor的配置说明</a><br>CKEditor系列教程（三）：<a href="/articles/32287/" target="_blank" class="block_project_a">CkEditor图片上传到服务端</a></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;font size=&quot;5.5&quot; color=&quot;red&quot;&gt;CKEditor系列教程（一）&lt;/font&gt;&lt;/blockquote&gt;
&lt;span class=&quot;label danger&quot;&gt;CKEditor&lt;/span&gt; &lt;span class=&quot;label warning&quot;&gt;前端应用&lt;/span&gt;
    
    </summary>
    
      <category term="前端应用" scheme="http://pygo2.top/categories/%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/"/>
    
      <category term="IDE" scheme="http://pygo2.top/categories/IDE/"/>
    
    
      <category term="HTML" scheme="http://pygo2.top/tags/HTML/"/>
    
      <category term="前端组件" scheme="http://pygo2.top/tags/%E5%89%8D%E7%AB%AF%E7%BB%84%E4%BB%B6/"/>
    
      <category term="CkEditor" scheme="http://pygo2.top/tags/CkEditor/"/>
    
      <category term="富文本编辑器" scheme="http://pygo2.top/tags/%E5%AF%8C%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Contos7.5环境上的Java安装</title>
    <link href="http://pygo2.top/articles/50773/"/>
    <id>http://pygo2.top/articles/50773/</id>
    <published>2021-01-16T13:30:19.000Z</published>
    <updated>2021-01-16T13:30:19.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_java_install.jpeg" alt></p><h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><div class="note primary">            <p>基于云服务器Centos7.5，安装libreoffice需要java环境，安装方式有2种，建议选择第二种手动方式。首先，安装的路径你可以自动随便选择；其次yum安装的jdk只是jre环境，而手动安装包含了JDK与JRE2个环境，包含dt.jar、tools.jar包。</p>          </div><span class="label danger">Linux</span> <span class="label info">Java</span><a id="more"></a><hr><p>前几天安装libreoffice环境，不清楚这个是干什么的，可以参考<a href="/articles/10477/" target="_blank" class="block_project_a">libreoffice安装与使用</a>。</p><h4 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h4><p>Contos7.5</p><div class="post_cus_note">-------------------------- Let's go --------------------------</div><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>这个主要用到yum命令，不清楚使用的同学可以baidu一下。</p><blockquote><p>yum</p></blockquote><ul><li><p>查找JDK</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum search jdk</span><br></pre></td></tr></table></figure><p>  <img src="yum_search.png" alt></p></li><li><p>安装</p><p>  这里我选择的是1.8版本，根据服务器的位数选择对应的版本。</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install java-1.8.0-openjdk.x86_64</span><br></pre></td></tr></table></figure><p>  安装完是下面这个样子：<br>  <img src="java_list.png" alt></p></li><li><p>配置</p><p>  打开/etc/profile文件，把下面配置加到最下面。</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#set java environment</span><br><span class="line">JAVA_HOME=/usr/lib/jvm/jre-1.8.0-openjdk-1.8.0.275.b01-0.el7_9.x86_64</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar</span><br><span class="line">export JAVA_HOME CLASSPATH PATH</span><br></pre></td></tr></table></figure></li><li><p>验证</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><p>  <img src="java_version.png" alt></p></li><li><p>其他说明</p><p>  yum安装的默认路径为：/usr/lib/jvm。</p></li></ul><blockquote><p>手动</p></blockquote><ul><li><p>下载源码包</p><p>  下载地址：<a href="https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html" target="_blank" rel="noopener">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</a><br>  选择需要安装的版本，这里选择的是：Linux x64 Compressed Archive。</p></li><li><p>上传服务器</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp ~/Downloads/jdk-8u281-linux-x64.tar.gz root@121.4.56.169:~</span><br></pre></td></tr></table></figure></li><li><p>解压</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u281-linux-x64.tar.gz</span><br><span class="line">mv jdk-8u281-linux-x64 /usr/local/jdk1.8.0_281</span><br></pre></td></tr></table></figure></li><li><p>配置</p><p>  同样还是/etc/profile文件。</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#set java environment</span><br><span class="line">JAVA_HOME=/usr/local/jdk1.8.0_281</span><br><span class="line">JRE_HOME=/usr/local/jdk1.8.0_281/jre</span><br><span class="line">CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span><br><span class="line">PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class="line">export JAVA_HOME JRE_HOME CLASS_PATH PATH</span><br></pre></td></tr></table></figure></li><li><p>测试</p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure></li></ul><h4 id="JDK与JRE区别"><a href="#JDK与JRE区别" class="headerlink" title="JDK与JRE区别"></a>JDK与JRE区别</h4><p><img src="jre_jdk.jpeg" alt></p><blockquote><p>含义</p></blockquote><ul><li>JDK：java development kit</li><li>JRE：java runtime environment</li></ul><blockquote><p>组成</p></blockquote><ul><li>JDK：JVM + 基础类库 + 开发工具</li><li>JRE：JVM</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_java_install.jpeg&quot; alt&gt;&lt;/p&gt;
&lt;h4 id=&quot;简述&quot;&gt;&lt;a href=&quot;#简述&quot; class=&quot;headerlink&quot; title=&quot;简述&quot;&gt;&lt;/a&gt;简述&lt;/h4&gt;&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;基于云服务器Centos7.5，安装libreoffice需要java环境，安装方式有2种，建议选择第二种手动方式。首先，安装的路径你可以自动随便选择；其次yum安装的jdk只是jre环境，而手动安装包含了JDK与JRE2个环境，包含dt.jar、tools.jar包。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label danger&quot;&gt;Linux&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Java&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="Linux" scheme="http://pygo2.top/tags/Linux/"/>
    
      <category term="Java" scheme="http://pygo2.top/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Libreoffice安装与使用</title>
    <link href="http://pygo2.top/articles/10477/"/>
    <id>http://pygo2.top/articles/10477/</id>
    <published>2021-01-12T09:21:54.000Z</published>
    <updated>2021-01-12T09:21:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_libreoffice.jpg" alt></p><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><div class="note primary">            <p>官网介绍：<br>LibreOffice is Free and Open Source Software. LibreOffice is a powerful and free office suite, a successor to OpenOffice(.org), used by millions of people around the world. Its clean interface and feature-rich tools help you unleash your creativity and enhance your productivity. LibreOffice includes several applications that make it the most versatile Free and Open Source office suite on the market: Writer (word processing), Calc (spreadsheets), Impress (presentations), Draw (vector graphics and flowcharts), Base (databases), and Math (formula editing).<br>大致意思：LibreOffice是开源、免费的，用于文档方面处理的工具，很牛逼。<br>功能模块：</p><ul><li>文档-Writer(word processing)</li><li>表格-Calc (spreadsheets)</li><li>PPT-Impress (presentations)</li><li>绘图-Draw (vector graphics and flowcharts)</li><li>数据库-Base (databases)</li><li>算法-Math (formula editing)</li></ul><p><font color="red" size="4.5">基于Linux安装并使用</font>！！！。</p>          </div><span class="label danger">Libreoffice</span> <span class="label info">Linux</span> <span class="label primary">办公工具</span><a id="more"></a><hr><p>LibreOffice跨平台，可以Windows、Linux、MacOS多平台安装，最新版为7.0.4。<br>下载地址：<a href="https://www.libreoffice.org/download/download/" target="_blank" rel="noopener">https://www.libreoffice.org/download/download/</a></p><h3 id="版本信息"><a href="#版本信息" class="headerlink" title="版本信息"></a>版本信息</h3><table><thead><tr><th style="text-align:center">name</th><th style="text-align:center">version</th></tr></thead><tbody><tr><td style="text-align:center">腾讯云服务器</td><td style="text-align:center">CentOS Linux release 7.5.1804 (Core)</td></tr><tr><td style="text-align:center">Libreoffice</td><td style="text-align:center">6.4.7</td></tr></tbody></table><div class="post_cus_note">-------------------------- Let's go --------------------------</div><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="下载文件"><a href="#下载文件" class="headerlink" title="下载文件"></a>下载文件</h4><p>选择 Linux x86_64(rpm) 的版本，下载得到 LibreOffice_6.4.7_Linux_x86-64_rpm.tar.gz。<br>Linux环境建议使用wget工具。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget //download.documentfoundation.org/libreoffice/stable/6.4.7/mac/x86_64/LibreOffice_6.4.7_MacOS_x86-64.dmg</span><br></pre></td></tr></table></figure></p><h4 id="清理环境"><a href="#清理环境" class="headerlink" title="清理环境"></a>清理环境</h4><p>在安装之前，先删除已经安装的 LibreOffice:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum remove libreoffice*</span><br></pre></td></tr></table></figure></p><h4 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf LibreOffice_6.4.7_Linux_x86-64_rpm.tar.gz</span><br></pre></td></tr></table></figure><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd LibreOffice_6.4.7_Linux_x86-64_rpm/RPMS</span><br><span class="line">yum localinstall *.rpm 或者 rpm -ivh *.rpm</span><br></pre></td></tr></table></figure><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mingliang.gao@VM-0-15-centos install_packages]$ which libreoffice6.4</span><br><span class="line">/usr/bin/libreoffice6.4</span><br></pre></td></tr></table></figure><p>安装目录：/opt/libreoffice6.4<br>可以用find或者locate去查找安装目录。</p><h4 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h4><p>执行 libreoffice6.4 可能会提示库文件找不到libcairo.so.2，执行下面几条命令安装需要的库:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install cairo -y</span><br><span class="line">yum install cups-libs -y</span><br><span class="line">yum install libSM -y</span><br></pre></td></tr></table></figure></p><h3 id="pdf转word"><a href="#pdf转word" class="headerlink" title="pdf转word"></a>pdf转word</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libreoffice6.4 --headless --infilter=&apos;writer_pdf_import&apos; --convert-to doc:&quot;MS Word 2007 XML&quot; db2.pdf</span><br></pre></td></tr></table></figure><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>LibreOffice for Android and iOS<br>While The Document Foundation doesn’t currently offer an Android or iOS version of LibreOffice, there is a LibreOffice-based product in app stores from Collabora, one of our certified developers and ecosystem members:<br>暂时不支持移动端，支持了之后，感觉格式转换这好多公司要没了。。。</p><h3 id="学习参考"><a href="#学习参考" class="headerlink" title="学习参考"></a>学习参考</h3><p>官网：<a href="https://www.libreoffice.org/" target="_blank" rel="noopener">https://www.libreoffice.org/</a><br>中文官网：<a href="https://zh-cn.libreoffice.org/" target="_blank" rel="noopener">https://zh-cn.libreoffice.org/</a><br>官网安装说明：<a href="https://www.libreoffice.org/get-help/install-howto/" target="_blank" rel="noopener">https://www.libreoffice.org/get-help/install-howto/</a><br>Linux安装：<a href="https://wiki.documentfoundation.org/Installing_LibreOffice_on_Linux#Fedora_.2F_CentOS" target="_blank" rel="noopener">https://wiki.documentfoundation.org/Installing_LibreOffice_on_Linux#Fedora_.2F_CentOS</a></p><p>任何学习的东西在官网都找得到，对于LibreOffice本人也是初窥门径，日后也会给出其他的相关使用命令。</p><font color="red" size="5"><strong><em>只有不断的学习才明白自己菜得一逼，加油，继续学习，致自己！！！</em></strong></font>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_libreoffice.jpg&quot; alt&gt;&lt;/p&gt;
&lt;h3 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h3&gt;&lt;div class=&quot;note primary&quot;&gt;
            &lt;p&gt;官网介绍：&lt;br&gt;LibreOffice is Free and Open Source Software. LibreOffice is a powerful and free office suite, a successor to OpenOffice(.org), used by millions of people around the world. Its clean interface and feature-rich tools help you unleash your creativity and enhance your productivity. LibreOffice includes several applications that make it the most versatile Free and Open Source office suite on the market: Writer (word processing), Calc (spreadsheets), Impress (presentations), Draw (vector graphics and flowcharts), Base (databases), and Math (formula editing).&lt;br&gt;大致意思：LibreOffice是开源、免费的，用于文档方面处理的工具，很牛逼。&lt;br&gt;功能模块：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;文档-Writer(word processing)&lt;/li&gt;&lt;li&gt;表格-Calc (spreadsheets)&lt;/li&gt;&lt;li&gt;PPT-Impress (presentations)&lt;/li&gt;&lt;li&gt;绘图-Draw (vector graphics and flowcharts)&lt;/li&gt;&lt;li&gt;数据库-Base (databases)&lt;/li&gt;&lt;li&gt;算法-Math (formula editing)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;font color=&quot;red&quot; size=&quot;4.5&quot;&gt;基于Linux安装并使用&lt;/font&gt;！！！。&lt;/p&gt;
          &lt;/div&gt;
&lt;span class=&quot;label danger&quot;&gt;Libreoffice&lt;/span&gt; &lt;span class=&quot;label info&quot;&gt;Linux&lt;/span&gt; &lt;span class=&quot;label primary&quot;&gt;办公工具&lt;/span&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="Linux" scheme="http://pygo2.top/tags/Linux/"/>
    
      <category term="Libreoffice" scheme="http://pygo2.top/tags/Libreoffice/"/>
    
      <category term="办公工具" scheme="http://pygo2.top/tags/%E5%8A%9E%E5%85%AC%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>Qita-常用DNS</title>
    <link href="http://pygo2.top/articles/35553/"/>
    <id>http://pygo2.top/articles/35553/</id>
    <published>2021-01-08T07:17:29.000Z</published>
    <updated>2021-01-08T07:17:29.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_dns.jpeg" alt></p><a id="more"></a><hr><table><thead><tr><th style="text-align:center">ID</th><th style="text-align:center">IP</th><th style="text-align:center">NAME</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">8.8.8.8</td><td style="text-align:center">Google</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">8.8.4.4</td><td style="text-align:center">Google备用</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">119.29.29.29</td><td style="text-align:center">腾讯</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">180.76.76.76</td><td style="text-align:center">百度</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">223.5.5.5</td><td style="text-align:center">阿里</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">223.6.6.6</td><td style="text-align:center">阿里</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">114.114.114.114</td><td style="text-align:center">114</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">114.114.114.115</td><td style="text-align:center">114备用</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_dns.jpeg&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="服务器" scheme="http://pygo2.top/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    
      <category term="DNS" scheme="http://pygo2.top/tags/DNS/"/>
    
  </entry>
  
  <entry>
    <title>HTML+CSS标题艺术字</title>
    <link href="http://pygo2.top/articles/25985/"/>
    <id>http://pygo2.top/articles/25985/</id>
    <published>2021-01-05T13:32:19.000Z</published>
    <updated>2021-01-05T13:32:19.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note success">            <p>HTML基于css开发的艺术字，有特效。</p>          </div><p><img src="/images/article_artfont.gif" alt></p><a id="more"></a><hr><p>样式分为2种，其实就是把效果反过来了，pushdown与raisedoup。</p><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;f-pr-heading-wrapper&quot;&gt;</span><br><span class="line">  &lt;a href=&quot;&quot; class=&quot;f-pushdown-header f-pushdown-header-pushDown&quot; title=&quot;HOVER ME&quot;&gt;</span><br><span class="line">      You can</span><br><span class="line">      &lt;span style=&quot;color:red;&quot;&gt;search&lt;/span&gt;</span><br><span class="line">      everything</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><p>f-pr-heading-wrapper为div基础标签。<br>background:-webkit-gradient是用于标签背景。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">.f-pr-heading-wrapper &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    text-align: center;</span><br><span class="line">    /*padding: 10px;*/</span><br><span class="line">    background-color: #00BFFF;</span><br><span class="line">background:-webkit-gradient(linear, 0% 0%, 0% 100%,from(#FFFF00), to(#2EFE2E));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* PUSH DOWN */</span><br><span class="line">.f-pushdown-header &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-family: &apos;Francois One&apos;, Helvetica, Arial, sans-serif;</span><br><span class="line">    font-size: 6rem;</span><br><span class="line">    color: #e7e7e7;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    transition: all 400ms ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f-pushdown-header-pushDown &#123;</span><br><span class="line">    text-shadow: 1.5px 1.5px 0 #333, 0px 1.5px 0 #333, -1.5px -1.5px 0 #333, -1.5px -1.5px 0 #333, -1.5px 1.5px 0 #333, 1.5px -1.5px 0 #333, 0.77782px 0.77782px 0 #aaaaaa, 1.55563px 1.55563px 0 #aaaaaa, 2.33345px 2.33345px 0 #aaaaaa, 3.11127px 3.11127px 0 #aaaaaa, 3.88909px 3.88909px 0 #aaaaaa, 4.6669px 4.6669px 0 #aaaaaa, 5.44472px 5.44472px 0 #aaaaaa, 6.22254px 6.22254px 0 #aaaaaa, 7.00036px 7.00036px 0 #aaaaaa, 7.77817px 7.77817px 0 #aaaaaa;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f-pushdown-header-pushDown:hover &#123;</span><br><span class="line">    color: #0d6aad;</span><br><span class="line">    transform: translate(10px, 0);</span><br><span class="line">    text-shadow: 1.5px 1.5px 0 #cac6c5, -1.5px -1.5px 0 #cac6c5, -1.5px -1.5px 0 #cac6c5, -1.5px 1.5px 0 #cac6c5, 1.5px -1.5px 0 #cac6c5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* RAISE UP */</span><br><span class="line">.f-raiseup-header &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    text-align: center;</span><br><span class="line">    font-family: &apos;Francois One&apos;, Helvetica, Arial, sans-serif;</span><br><span class="line">    font-size: 6rem;</span><br><span class="line">    color: #e7e7e7;</span><br><span class="line">    text-decoration: none;</span><br><span class="line">    transition: all 400ms ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f-raiseup-header-pushDown &#123;</span><br><span class="line">     text-shadow: 1.5px 1.5px 0 #cac6c5, -1.5px -1.5px 0 #cac6c5, -1.5px -1.5px 0 #cac6c5, -1.5px 1.5px 0 #cac6c5, 1.5px -1.5px 0 #cac6c5;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.f-raiseup-header-pushDown:hover &#123;</span><br><span class="line">    color: #0d6aad;</span><br><span class="line">    transform: translate(10px, 0);</span><br><span class="line">    text-shadow: 1.5px 1.5px 0 #333, 0px 1.5px 0 #333, -1.5px -1.5px 0 #333, -1.5px -1.5px 0 #333, -1.5px 1.5px 0 #333, 1.5px -1.5px 0 #333, 0.77782px 0.77782px 0 #aaaaaa, 1.55563px 1.55563px 0 #aaaaaa, 2.33345px 2.33345px 0 #aaaaaa, 3.11127px 3.11127px 0 #aaaaaa, 3.88909px 3.88909px 0 #aaaaaa, 4.6669px 4.6669px 0 #aaaaaa, 5.44472px 5.44472px 0 #aaaaaa, 6.22254px 6.22254px 0 #aaaaaa, 7.00036px 7.00036px 0 #aaaaaa, 7.77817px 7.77817px 0 #aaaaaa;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note success&quot;&gt;
            &lt;p&gt;HTML基于css开发的艺术字，有特效。&lt;/p&gt;
          &lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/images/article_artfont.gif&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="前端应用" scheme="http://pygo2.top/categories/%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="HTML" scheme="http://pygo2.top/tags/HTML/"/>
    
      <category term="CSS" scheme="http://pygo2.top/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>HTML+CSS+HR分割线</title>
    <link href="http://pygo2.top/articles/50666/"/>
    <id>http://pygo2.top/articles/50666/</id>
    <published>2021-01-03T11:32:05.000Z</published>
    <updated>2021-01-03T11:32:05.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note success">            <p>推荐几款好看的hr标签分割线，也是网上找的，基于html与css，总结一下。</p>          </div><p><img src="/images/article_hr.png" alt></p><a id="more"></a><hr><h4 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;hr class=&quot;hr-grow-base hr-grow-trans hr-grow-hr1&quot;&gt;</span><br><span class="line">内容。。。。。。。。。。。。。。。。。。。。</span><br><span class="line">&lt;hr class=&quot;hr-grow-base hr-grow-trans hr-grow-hr2&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-color-fade&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-lean-line&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-gray-fade&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-grap-shadow&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-dots&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-accessory&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-pill&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-vertical-lines&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-slash&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-wave&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-stars&quot;&gt;</span><br></pre></td></tr></table></figure><p>其中，关于Hr grow style样式需要说明一下，除了加上html与css之外，还需要加上js才会有动画效果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(function()&#123;</span><br><span class="line">    $(&apos;.hr-grow-trans&apos;).addClass(&apos;hr-grow-add&apos;);</span><br><span class="line">&#125;, 275);</span><br></pre></td></tr></table></figure></p><h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line">/* Color fade */</span><br><span class="line">.hr-color-fade &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    margin: 0 auto;</span><br><span class="line">    border: 0;</span><br><span class="line">    height: 4px;</span><br><span class="line">    background: #333;</span><br><span class="line">    background-image: linear-gradient(to right, red, #333, rgb(9, 206, 91));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* Gray fade */</span><br><span class="line">.hr-gray-fade &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    margin:0 auto;</span><br><span class="line">    border: 0;</span><br><span class="line">    height: 4px;</span><br><span class="line">    background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*Lean line*/</span><br><span class="line">.hr-lean-line &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  display: block;</span><br><span class="line">  margin-top: 4em;</span><br><span class="line">  margin-bottom: 4em;</span><br><span class="line">  height: 3px;</span><br><span class="line">  border:none;</span><br><span class="line">  background: linear-gradient(to right, transparent 50%, #fff 50%), linear-gradient(to right, #00b9ff, #59d941);</span><br><span class="line">  background-size: 1.5rem, 100%;</span><br><span class="line">  transform: rotate(-4.5deg);</span><br><span class="line">  transform-origin: 50% 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*Grap-shadow*/</span><br><span class="line">.hr-grap-shadow &#123;</span><br><span class="line">    height: 10px;</span><br><span class="line">    border: 0;</span><br><span class="line">    box-shadow: 0 10px 10px -10px #3c3f41 inset;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* Hr grow style</span><br><span class="line">html:</span><br><span class="line">&lt;hr class=&quot;hr-grow-base hr-grow-trans hr-grow-hr1&quot;&gt;</span><br><span class="line">&lt;hr class=&quot;hr-grow-base hr-grow-trans hr-grow-hr2&quot;&gt;</span><br><span class="line"></span><br><span class="line">js:</span><br><span class="line">setTimeout(function()&#123;</span><br><span class="line">    $(&apos;.hr-grow-trans&apos;).addClass(&apos;hr-grow-add&apos;);</span><br><span class="line">&#125;, 275);</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">.hr-grow-base&#123;</span><br><span class="line">    margin-top: 20px;</span><br><span class="line">    padding: 1.5px 0;</span><br><span class="line">    border: none;</span><br><span class="line">    /*background-color: rgb(250, 150, 0);*/</span><br><span class="line">    background-image: linear-gradient(to right, red, #333, rgb(9, 206, 91));</span><br><span class="line">    letter-spacing: 5px;</span><br><span class="line">&#125;</span><br><span class="line">.hr-grow-hr1&#123;</span><br><span class="line">    margin-left: 2%;</span><br><span class="line">&#125;</span><br><span class="line">.hr-grow-hr2&#123;</span><br><span class="line">    margin-right: 2%;</span><br><span class="line">&#125;</span><br><span class="line">.hr-grow-trans&#123;</span><br><span class="line">    -webkit-transition: width 1s ease-out;</span><br><span class="line">    transition: width 1s  ease-out;</span><br><span class="line">    width : 0;</span><br><span class="line">&#125;</span><br><span class="line">.hr-grow-add&#123;</span><br><span class="line">    width: 96%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*Dots*/</span><br><span class="line">.hr-dots&#123;</span><br><span class="line">    color: orange;</span><br><span class="line">    border-width: 0 0 8px;</span><br><span class="line">    border-style: solid;</span><br><span class="line">    border-image: url(&apos;data:image/svg+xml,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 2 1&quot; width=&quot;8&quot; height=&quot;4&quot;&gt;&lt;circle fill=&quot;orange&quot; cx=&quot;1&quot; cy=&quot;0.5&quot; r=&quot;0.5&quot;/&gt;&lt;/svg&gt;&apos;) 0 0 100% repeat;</span><br><span class="line">    width: 90%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*accessory*/</span><br><span class="line">.hr-accessory &#123;</span><br><span class="line">    height: 6px;</span><br><span class="line">    background-image: radial-gradient(closest-side, gray, rgba(128, 128, 128, 0) 100%);</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.hr-accessory:after &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 50%;</span><br><span class="line">    left: 50%;</span><br><span class="line">    display: block;</span><br><span class="line">    background-color: #bfbfbf;</span><br><span class="line">    height: 12px;</span><br><span class="line">    width: 12px;</span><br><span class="line">    transform: rotate(45deg);</span><br><span class="line">    margin-top: -10px;</span><br><span class="line">    margin-left: -10px;</span><br><span class="line">    border-radius: 4px 0;</span><br><span class="line">    border: 4px solid rgba(255, 255, 255, 0.35);</span><br><span class="line">    background-clip: padding-box;</span><br><span class="line">    box-shadow: -10px 10px 0 rgba(255, 255, 255, 0.15), 10px -10px 0 rgba(255, 255, 255, 0.15);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*pill*/</span><br><span class="line">.hr-pill &#123;</span><br><span class="line">    height: 1rem;</span><br><span class="line">    border-radius: 1rem;</span><br><span class="line">    color: teal;</span><br><span class="line">    background-color: #00FFFF;</span><br><span class="line">    border: 2px solid currentColor;</span><br><span class="line">    width: 80%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*vertical-lines*/</span><br><span class="line">.hr-vertical-lines &#123;</span><br><span class="line">    height: 1rem;</span><br><span class="line">    color: orange;</span><br><span class="line">    background-image: linear-gradient(90deg, currentColor, currentColor 33.33%, transparent 33.33%, transparent 100%);</span><br><span class="line">    background-size: 3px 100%;</span><br><span class="line">    width: 80%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*slash*/</span><br><span class="line">.hr-slash &#123;</span><br><span class="line">    height: 10px;</span><br><span class="line">    background-image: linear-gradient(45deg, rgba(13, 13, 13, 0), rgba(13, 13, 13, 0) 33.33%, #0d0d0d 33.33%, #0d0d0d 66.67%, rgba(13, 13, 13, 0) 66.67%, rgba(13, 13, 13, 0) 100%);</span><br><span class="line">    background-size: 10px 100%;</span><br><span class="line">    width: 90%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* Wave */</span><br><span class="line">.hr-wave &#123;</span><br><span class="line">    width: 96%;</span><br><span class="line">    border-image: url(&apos;data:image/svg+xml,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 12 15&quot; width=&quot;12&quot; height=&quot;15&quot;&gt;&lt;path fill=&quot;none&quot; stroke=&quot;rgba(191, 191, 191, 0.9)&quot; stroke-width=&quot;3&quot; d=&quot;M0,13.5c3,0,3-12,6-12s3,12,6,12&quot;/&gt;&lt;/svg&gt;&apos;) 0 0 100% repeat;</span><br><span class="line">    border-width: 0 0 0.8rem;</span><br><span class="line">    border-style: solid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* stars */</span><br><span class="line">.hr-stars &#123;</span><br><span class="line">    border: 0;</span><br><span class="line">    height: auto;</span><br><span class="line">    color: gold;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.hr-stars:after &#123;</span><br><span class="line">    content: &quot;★&quot;;</span><br><span class="line">    font-size: 1em;</span><br><span class="line">    text-shadow: -6em 0, -5em 0, -4em 0, -3em 0, -2em 0, -1em 0, 1em 0, 2em 0, 3em 0, 4em 0, 5em 0, 6em 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note success&quot;&gt;
            &lt;p&gt;推荐几款好看的hr标签分割线，也是网上找的，基于html与css，总结一下。&lt;/p&gt;
          &lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/images/article_hr.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="前端应用" scheme="http://pygo2.top/categories/%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8/"/>
    
    
      <category term="HTML" scheme="http://pygo2.top/tags/HTML/"/>
    
      <category term="CSS" scheme="http://pygo2.top/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>Python之NLTK包[ERRNO61] Connection Refused</title>
    <link href="http://pygo2.top/articles/38502/"/>
    <id>http://pygo2.top/articles/38502/</id>
    <published>2020-12-23T15:21:42.000Z</published>
    <updated>2020-12-23T15:21:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/images/article_python_nltk.png" alt></p><font size="6.5" color="red">解决MacOS安装nltk报[ERRNO61] Connection Refused的问题。</font><a id="more"></a><hr><p>要解析一些DB2的存储过程，查询一些指定的词语，打算搞个脚本，用到nltk这个自然语言处理的包，安装之后，运行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># GUI Downloader</span><br><span class="line">import nltk</span><br><span class="line">nltk.download()</span><br></pre></td></tr></table></figure></p><p>出现上述情况，下载不了包。</p><div class="post_cus_note">=============解决方案=============</div><blockquote><p>方案一</p></blockquote><p>离线下载包，地址：<a href="https://github.com/nltk/nltk_data/tree/gh-pages" target="_blank" rel="noopener">https://github.com/nltk/nltk_data/tree/gh-pages</a><br>下载之后把文件放在/Users/用户名/nltk_data目录下，改下用户即可。</p><blockquote><p>方案二</p></blockquote><p>在GUI Downloader上，更换Server Index地址：<a href="http://www.nltk.org/nltk_data/" target="_blank" rel="noopener">http://www.nltk.org/nltk_data/</a><br>可行，但是不是永久的，每次打开都得重新设置。</p><p><img src="ok_nltk.png" alt></p><blockquote><p>方案三</p></blockquote><p>找到nltk包的downloader文件，去更改默认下载地址。<br>我用的是conda建造的环境，或者用pycharm的去一级一级找就可以了。<br>位置：/opt/anaconda3/envs/python3.7/lib/python3.7/site-packages/nltk/downloader.py</p><p><img src="update_url.png" alt></p><p>本人开发环境：MacOS + Pyhton3.7</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/images/article_python_nltk.png&quot; alt&gt;&lt;/p&gt;
&lt;font size=&quot;6.5&quot; color=&quot;red&quot;&gt;解决MacOS安装nltk报[ERRNO61] Connection Refused的问题。&lt;/font&gt;
    
    </summary>
    
      <category term="Python" scheme="http://pygo2.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://pygo2.top/tags/Python/"/>
    
      <category term="Python包" scheme="http://pygo2.top/tags/Python%E5%8C%85/"/>
    
  </entry>
  
</feed>
